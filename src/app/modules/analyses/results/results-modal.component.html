<div class="flex justify-between">
  <div class="mb-5 mt-4 flex gap-4" mat-dialog-title>
    <mat-icon class="text-current icon-size-5" svgIcon="fa-solid:pen-to-square"></mat-icon>
    <div class="text-2xl font-medium leading-6">Analysis Results</div>
  </div>
  <div
    class="flex h-10 w-10 flex-0 cursor-pointer items-center justify-center rounded-full border hover:bg-gray-100 dark:hover:bg-gray-900"
    (click)="dismiss()"
  >
    <mat-icon class="text-current icon-size-5" svgIcon="fa-solid:xmark"></mat-icon>
  </div>
</div>
<mat-divider class="mb-8"></mat-divider>
@if (data.parsedResults && data.service !== 'BETTER') {
  <div class="my-5">
    @if (rowData.length) {
      <ag-grid-angular
        [columnDefs]="columnDefs"
        [rowData]="rowData"
        [theme]="gridTheme$ | async"
        [domLayout]="'autoHeight'"
        (gridReady)="onGridReady($event)"
      ></ag-grid-angular>
    }
  </div>
} @else if (data.outputFiles.length) {
  @for (file of data.outputFiles; track $index) {
    @if (file.content_type === 'html') {
      <ng-container>
        <iframe class="" [src]="file.file | safeUrl" (load)="resizeIframe($event)" scrolling="no"></iframe>
      </ng-container>
    }

    @if (file.content_type === 'PNG') {
      <ng-container>
        <img [src]="file.file" style="width: 100%; min-width: 200px; max-width: 50%" alt="Analysis result image" />
      </ng-container>
    }
  }
}
