<div class="flex gap-4">
  <div class="w-30 text-secondary">Cycle</div>
  <div>{{ cycle?.name }}</div>
</div>



<mat-divider class="my-5"></mat-divider>
<div class="flex justify-between items-center">
  <div class="flex gap-4 my-2 mx-3">
    <div class="w-10 h-5 bg-primary bg-opacity-25 rounded border"></div>
    <div class="italic text-secondary">Access Level Info</div>
  </div>

  <div class="flex gap-4">
    <button 
      (click)="showDataQualityResults()"
      [disabled]="!dqcComplete"
      mat-stroked-button
      [ngClass]="{ 'animate-pulse bg-gray-500': !dqcComplete }" 
    > Data Quality Results</button>
    <button 
      class="mb-2" 
      (click)="saveData()"
      color="primary" 
      [disabled]="!rowData.length"
      mat-raised-button 
      [ngClass]="{ 'animate-pulse bg-gray-500': !rowData.length }"
    >Save Data</button>
  </div>
</div>

@if (rowData.length) {
  <ag-grid-angular
    [rowData]="rowData"
    [columnDefs]="columnDefs"
    [theme]="gridTheme$ | async"
    [pagination]="true"
    [paginationPageSize]="20"
    [domLayout]="'autoHeight'" 
    (gridReady)="onGridReady($event)"
  >
</ag-grid-angular>
} @else {
  <div class="m-10">
    <div class="mb-5 flex items-center space-x-2">
      <mat-icon class="text-primary-600" svgIcon="fa-solid:hourglass-half"></mat-icon>
      <div class="text-secondary text-xl font-medium leading-6">Fetching Mapping Results...</div>
    </div>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>

}