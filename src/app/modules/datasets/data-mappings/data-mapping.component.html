<seed-page
  [config]="{
    title: 'Data Mapping',
    breadcrumbs: ['Datasets', 'Data Mapping'],
    titleIcon: 'fa-solid:map',
    action: toggleHelp,
    actionIcon: 'fa-solid:circle-question',
  }"
>
  <div class="h-full-page-tabs p-5" id="content">
    
    <mat-drawer-container class="h-full">
      <mat-drawer class="w-1/2" #drawer [(opened)]="helpOpened" mode="over" position="end">
        <ng-container *ngTemplateOutlet="helpTemplate"></ng-container>
      </mat-drawer>
      <ng-container *ngTemplateOutlet="mainTemplate"></ng-container>
    </mat-drawer-container>
    
  </div>
</seed-page>


<!-- HELP CONTENT -->
<ng-template class="w-1/3" #helpTemplate>
  <seed-data-mapping-help></seed-data-mapping-help>
</ng-template>

<!-- MAIN CONTENT -->
<ng-template #mainTemplate>

  <div class="flex gap-4">
    <div class="w-30 text-secondary">Cycle</div>
    <div>{{ cycle?.name }}</div>
  </div>
  <div class="flex gap-4">
    <div class="w-30 text-secondary">Column Profile</div>
    <div>none selected</div>
  </div>

  <mat-divider class="my-5"></mat-divider>
    <div class="flex flex-col gap-2 w-100">
      <button mat-stroked-button (click)="copyHeadersToSeed()">Copy Data File Headers directly to SEED headers</button>
      <!-- <button mat-stroked-button>Toggle Omitted</button> -->
      <mat-button-toggle-group name="invntoryType" [(ngModel)]="defaultInventoryType" (change)="setAllInventoryType($event.value)" appearance="standard">
        <mat-button-toggle value="Property">Property Types</mat-button-toggle>
        <mat-button-toggle value="Tax Lot">Tax Lot Types</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
  
  <mat-divider class="my-5"></mat-divider>
  <div class="flex justify-between items-center">
    <div class="flex gap-4 my-2 mx-3">
      <div class="w-10 h-5 bg-primary bg-opacity-25 rounded border"></div>
      <div class="italic text-secondary">Editable Cell</div>
    </div>

    <button class="mb-2" mat-raised-button color="primary" (click)="mapData()" [disabled]="!dataValid">Map Data</button>


  </div>

  <ag-grid-angular
    [rowData]="rowData"
    [columnDefs]="columnDefs"
    [gridOptions]="gridOptions"
    [theme]="gridTheme$ | async"
    [domLayout]="'autoHeight'"
    (gridReady)="onGridReady($event)"
  >
  </ag-grid-angular>

</ng-template>