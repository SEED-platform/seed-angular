<mat-form-field class="mt-4">
  <mat-label>Filter</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input />
</mat-form-field>
<mat-table [dataSource]="columnTableDataSource" class="mat-elevation-z4 w-100 p-4">
  <ng-container matColumnDef="canonical">
    <th mat-header-cell *matHeaderCellDef>Canonical?</th>
    <td mat-cell *matCellDef="let c">
      @if (!c.is_extra_data && !c.derived_column) {
        <mat-icon class="icon-size-4" svgIcon="fa-solid:check" matTooltip="Canonical Column"></mat-icon>
      }
    </td>
  </ng-container>
  <ng-container matColumnDef="display_name">
    <th mat-header-cell *matHeaderCellDef>Display Name</th>
    <td mat-cell *matCellDef="let c">{{ c.display_name }}</td>
  </ng-container>

  <ng-container matColumnDef="column_name">
    <th mat-header-cell *matHeaderCellDef>Column Name</th>
    <td mat-cell *matCellDef="let c">{{ c.column_name }}</td>
  </ng-container>

  <ng-container matColumnDef="column_description">
    <th mat-header-cell *matHeaderCellDef>Description</th>
    <td mat-cell *matCellDef="let c">{{ c.column_description }}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef class="select-none">Actions</th>
    <td mat-cell *matCellDef="let c" class="w-50 py-2">
      <a mat-stroked-button (click)="edit(c)" class="mr-2">
        <mat-icon class="icon-size-4" svgIcon="fa-solid:pencil" matTooltip="Edit Column"></mat-icon>
      </a>
      <a mat-stroked-button (click)="rename(c)" class="mr-2">
        <mat-icon class="icon-size-4" svgIcon="fa-solid:copy" matTooltip="Rename Column"></mat-icon>
      </a>
      @if (c.is_extra_data) {
        <a mat-stroked-button color="warn" (click)="delete(c)">
          <mat-icon class="icon-size-4" svgIcon="fa-solid:x" matTooltip="Delete Column"></mat-icon>
        </a>
      }
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnTableColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: columnTableColumns"></tr>
</mat-table>
<mat-paginator [pageSizeOptions]="[10, 20]" showFirstLastButtons aria-label="Select page"> </mat-paginator>
